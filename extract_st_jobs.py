#!/usr/bin/env python3
import re

# Parse the ServiceTitan data from the export
st_jobs = set()

# Job IDs from the ServiceTitan export
st_data = """389324885,389438781,389618389,388742795,389126602,389182944,389209474,389478663,
389126650,389284427,388899959,389186404,389323999,397652196,388524852,388525076,388981346,
397576600,397653981,397692507,397655265,397690946,397827963,397874133,397769180,
397686112,389653357,388934314,397674675,397671692,397669665,397663774,388940524,
387563401,389449179,388942963,388743945,389664342,
397656424,389635183,388972633,397656404,387377241,388744199,397951702,
389126476,389148898,389022627,389294575,389433089,397690209,389205021,389024855,387052938,397713160,
397596121,367637561,366611946,389359078,389266117,397579507,397675313,397802313,
397657967,397597603,389215111,389205072,387264608,365622028,397672182,366912331,
397706800,397653732,397594304,389145116,397658510,387625123,388974729,387680999,
389336810,388939000,389437660,389617947,387244959,388510634,388413301,389612440,
361712253,389083995,388881200,389664708,367596089,389083232,397654361,388675028,
387744395,388656562,389003965,389007816,389184844,388979117,387826576,388015394,
397830495,388978707,388067731,367228489,389182317,388072660,397655909,387848312,
389438180,388987517,388657413,389308932,397667192,397596564,397654339,397677704,
389080703,387922418,364255346,
389664675,388751942,397792892,397747162,397644200,389591994,387850483,387979122,
388781334,389653681,389666834,388571483,389646395,387843470,397666477,389568833,
388788307,397768877,365350342,389664616,365207798,387987187,363024202,397673826,
388492644,389499476,397592957,397644686,389480902,397853120,397644337,389442906,
389643709,397556470,397703002,389671462,397555115,389666802,397594433,397643384"""

# Extract all job IDs
for line in st_data.split('\n'):
    for job_id in line.split(','):
        clean_id = job_id.strip()
        if clean_id and clean_id.isdigit():
            st_jobs.add(clean_id)

print(f"ServiceTitan job count: {len(st_jobs)}")
print(f"Job IDs: {sorted(st_jobs)[:10]}...")

# Save to file
with open('st_job_ids.txt', 'w') as f:
    for job_id in sorted(st_jobs):
        f.write(job_id + '\n')
